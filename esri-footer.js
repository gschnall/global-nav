var esriFooter=function(){"use strict";function e(t,n,a){for(var i in n)"function"==typeof n[i]?t.addEventListener(a+i,n[i]):Object(n[i])===n[i]?e(t,n[i],a+i+"-"):t.setAttribute(a+i,n[i])}function t(t){var n=t instanceof Node?t:document.createElement(t);return[].slice.call(arguments,1).forEach(function(t){t instanceof Node?n.appendChild(t):"string"==typeof t?n.appendChild(document.createTextNode(t)):e(n,t,"")}),n}function n(e,t){var n=new XMLHttpRequest;return n.addEventListener("readystatechange",function(){4===n.readyState&&200===n.status&&t(n.responseText)}),n.open("GET",e),n.send(),n}function a(e,t,n){var a=document.createEvent("CustomEvent");a.initCustomEvent(t,!0,!0,n),e.dispatchEvent(a)}function i(e){var t=void 0,n=[];e.addEventListener("blur",function(){n.forEach(function(e){e.removeAttribute("js-focus"),e.removeAttribute("js-focus-ring")})},!0),e.addEventListener("focus",function(){var e=document.activeElement;e instanceof Element&&(e.setAttribute("js-focus",""),t&&e.setAttribute("js-focus-ring",""),n.push(e))},!0),e.addEventListener("keydown",function(){t=clearTimeout(t)||setTimeout(function(){t=0},100)},!0)}function r(e,t){n(e,function(e){t(v(JSON.parse(e)))})}var o=function(e,n){return t("div",{class:n+"-brand"},t("a",{class:n+"-brand-link",href:e.href,aria:{label:e.label}},t(document.createElementNS("http://www.w3.org/2000/svg","svg"),{class:n+"-brand-image",width:"114",height:"114",viewBox:e.viewBox,role:"presentation"},t(document.createElementNS("http://www.w3.org/2000/svg","path"),{d:e.path}))))},l=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},s=function(e){var n=t.apply(void 0,["select",{class:e.prefix+"-choice",autofocus:"",aria:{label:e.optionsLabel}}].concat(l(e.options.map(function(e){return t("option",{value:e.value},e.label)})))),a=t("form",{class:e.prefix,aria:{labelledby:e.prefix+"-message",describedby:"dialog-description"}},t("p",{class:e.prefix+"-message",id:e.prefix+"-message"},t("strong",e.greetingLabel)," ",e.messageLabel),n,t("button",{class:e.prefix+"-submit",type:"submit",aria:{label:e.submitLabel+" "+e.optionsLabel}},e.submitLabel));return a.addEventListener("submit",function(e){e.preventDefault(),window.location.href=n.value}),a},u=function(e,n){function i(e){e.preventDefault(),t(f,{aria:{expanded:!1}})}var r=document.createTextNode(e.buttonLabel),o=t("button",{class:n+"-language-control",ariaDescribedby:n+"-language"},r),l=t("div",{class:n+"-language"},o);o.addEventListener("click",function(e){e.preventDefault(),t(f,{aria:{expanded:!0}})}),e.prefix=n+"-language-dialog";var u=s(e),c=t("button",{class:n+"-language-dialog-close",id:"dialog-description",ariaLabel:e.closeLabel});c.addEventListener("click",i),t(u,c);var d=t("button",{class:n+"-language-dialog-cancel-canvas",type:"button",tabindex:-1});d.addEventListener("click",i);var f=t("div",{class:n+"-language-dialog-barrier",aria:{expanded:!1}},u,d);return o.addEventListener("click",function(){a(o,"footer:click:language",e)}),l.addEventListener("footer:update:language",function(e){var t=e.detail;r.nodeValue=t.buttonLabel,l.ownerDocument.body.appendChild(f),l.ownerDocument.defaultView.addEventListener("keydown",function(){27===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:event).keyCode&&i(event)})}),l},c=function(e,n){function i(){d!==c.matches&&(d=c.matches,f.forEach(function(e){d?r(e.firstChild):o(e.firstChild)}))}function r(e){var n="true"!==e.nextElementSibling.getAttribute("aria-hidden");t(e,{tabindex:0,role:"button",aria:{expanded:!n,haspopup:!n}}),e.addEventListener("click",s),e.addEventListener("keypress",u),t(e.nextElementSibling,{aria:{hidden:!0}})}function o(e){e.removeAttribute("aria-controls"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-haspopup"),e.removeAttribute("role"),e.removeAttribute("tabindex"),e.addEventListener("click",s),e.addEventListener("keypress",u),e.nextElementSibling.removeAttribute("aria-hidden")}function s(e){var n=e.currentTarget,a=n.nextElementSibling,i="true"!==a.getAttribute("aria-hidden");t(n,{aria:{expanded:!i,haspopup:!i}}),t(a,{aria:{hidden:i}}),i?t(n,{aria:{controls:0}}):t(n,{aria:{controls:a.id}})}function u(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),a(e.currentTarget,"click"))}var c=matchMedia("(max-width: 719px)"),d=!1;c.addListener(i);var f=e.menu.map(function(e,a){return t("li",{class:n+"-menu-item",id:n+"-menu-link--"+a},t("span",{class:n+"-menu-link",role:"heading"},e.label),t("nav",{class:n+"-menu--sub",id:n+"-menu--sub--"+a,aria:{labelledby:n+"-menu-link--"+a}},t.apply(void 0,["ul",{class:n+"-menu-list--sub",role:"presentation"}].concat(l(e.menu.map(function(e){return t("li",{class:n+"-menu-item--sub"},t("a",{class:n+"-menu-link--sub",href:e.href},e.label))}))))))}),v=t("nav",{class:n+"-menu",aria:{label:e.label}},t.apply(void 0,["ul",{class:n+"-menu-list",role:"presentation"}].concat(l(f))));return i(),v},d=function(e,n){return t("nav",{class:n+"-info",aria:{label:e.label}},t.apply(void 0,["ul",{class:n+"-info-list",role:"presentation"}].concat(l(e.menu.map(function(e,a){return t("li",{class:n+"-info-item",id:n+"-info-link--"+a},t("a",{class:n+"-info-link",href:e.href},e.label))})))))},f=function(e,n){return t("nav",{class:n+"-social",aria:{label:e.label}},t("ul",{class:n+"-social-list",role:"presentation"},e.menu.reduce(function(e,a){return t(e,t("li",{class:n+"-social-item"},t("a",{class:n+"-social-link -"+a.label.toLowerCase(),href:a.href,aria:{label:a.label}},t(document.createElementNS("http://www.w3.org/2000/svg","svg"),{class:n+"-social-image",width:30,height:30,viewBox:a.image.viewBox,role:"presentation"},t(document.createElementNS("http://www.w3.org/2000/svg","path"),{d:a.image.path})))))},document.createDocumentFragment())))},v=function(e){var n=e.prefix||"esri-footer",r=o(e.brand,n),l=d(e.info,n),s=u(e.language,n),v=c(e.menu,n),m=f(e.social,n),p=t("footer",{class:n,aria:{label:e.label}},t("div",{class:n+"-section--1"},r,m),t("div",{class:n+"-section--2"},v),t("div",{class:n+"-section--3"},s,l));return p.addEventListener("DOMNodeInserted",function t(){p.removeEventListener("DOMNodeInserted",t),p.addEventListener("focusin",function(){var e=p.ownerDocument.documentElement.scrollHeight-p.scrollHeight;e>p.ownerDocument.defaultView.pageYOffset&&p.ownerDocument.defaultView.scrollTo(0,e)}),a(p,"footer:update",e)}),i(p),p.addEventListener("footer:update",function(e){function n(){var e=0>window.pageYOffset;t(p,{data:{hidden:e}})}var i=e.detail;i.brand&&a(r,"footer:update:brand",i.brand),i.info&&a(l,"footer:update:info",i.info),i.language&&a(s,"footer:update:language",i.language),i.menu&&a(v,"footer:update:menu",i.menu),i.social&&a(m,"footer:update:social",i.social),p.ownerDocument.defaultView.addEventListener("scroll",n),n()}),p};return{create:v,createFromURL:r,createFromDefault:function(e){r("/esri-footer.json",e)}}}();
//# sourceMappingURL=esri-footer.js.map
